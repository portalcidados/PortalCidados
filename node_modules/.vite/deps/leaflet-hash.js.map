{
  "version": 3,
  "sources": ["../../leaflet-hash/leaflet-hash.js"],
  "sourcesContent": ["(function(window) {\n\tvar HAS_HASHCHANGE = (function() {\n\t\tvar doc_mode = window.documentMode;\n\t\treturn ('onhashchange' in window) &&\n\t\t\t(doc_mode === undefined || doc_mode > 7);\n\t})();\n\n\tL.Hash = function(map) {\n\t\tthis.onHashChange = L.Util.bind(this.onHashChange, this);\n\n\t\tif (map) {\n\t\t\tthis.init(map);\n\t\t}\n\t};\n\n\tL.Hash.parseHash = function(hash) {\n\t\tif(hash.indexOf('#') === 0) {\n\t\t\thash = hash.substr(1);\n\t\t}\n\t\tvar args = hash.split(\"/\");\n\t\tif (args.length == 3) {\n\t\t\tvar zoom = parseInt(args[0], 10),\n\t\t\tlat = parseFloat(args[1]),\n\t\t\tlon = parseFloat(args[2]);\n\t\t\tif (isNaN(zoom) || isNaN(lat) || isNaN(lon)) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tcenter: new L.LatLng(lat, lon),\n\t\t\t\t\tzoom: zoom\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tL.Hash.formatHash = function(map) {\n\t\tvar center = map.getCenter(),\n\t\t    zoom = map.getZoom(),\n\t\t    precision = Math.max(0, Math.ceil(Math.log(zoom) / Math.LN2));\n\n\t\treturn \"#\" + [zoom,\n\t\t\tcenter.lat.toFixed(precision),\n\t\t\tcenter.lng.toFixed(precision)\n\t\t].join(\"/\");\n\t},\n\n\tL.Hash.prototype = {\n\t\tmap: null,\n\t\tlastHash: null,\n\n\t\tparseHash: L.Hash.parseHash,\n\t\tformatHash: L.Hash.formatHash,\n\n\t\tinit: function(map) {\n\t\t\tthis.map = map;\n\n\t\t\t// reset the hash\n\t\t\tthis.lastHash = null;\n\t\t\tthis.onHashChange();\n\n\t\t\tif (!this.isListening) {\n\t\t\t\tthis.startListening();\n\t\t\t}\n\t\t},\n\n\t\tremoveFrom: function(map) {\n\t\t\tif (this.changeTimeout) {\n\t\t\t\tclearTimeout(this.changeTimeout);\n\t\t\t}\n\n\t\t\tif (this.isListening) {\n\t\t\t\tthis.stopListening();\n\t\t\t}\n\n\t\t\tthis.map = null;\n\t\t},\n\n\t\tonMapMove: function() {\n\t\t\t// bail if we're moving the map (updating from a hash),\n\t\t\t// or if the map is not yet loaded\n\n\t\t\tif (this.movingMap || !this.map._loaded) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar hash = this.formatHash(this.map);\n\t\t\tif (this.lastHash != hash) {\n\t\t\t\tlocation.replace(hash);\n\t\t\t\tthis.lastHash = hash;\n\t\t\t}\n\t\t},\n\n\t\tmovingMap: false,\n\t\tupdate: function() {\n\t\t\tvar hash = location.hash;\n\t\t\tif (hash === this.lastHash) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar parsed = this.parseHash(hash);\n\t\t\tif (parsed) {\n\t\t\t\tthis.movingMap = true;\n\n\t\t\t\tthis.map.setView(parsed.center, parsed.zoom);\n\n\t\t\t\tthis.movingMap = false;\n\t\t\t} else {\n\t\t\t\tthis.onMapMove(this.map);\n\t\t\t}\n\t\t},\n\n\t\t// defer hash change updates every 100ms\n\t\tchangeDefer: 100,\n\t\tchangeTimeout: null,\n\t\tonHashChange: function() {\n\t\t\t// throttle calls to update() so that they only happen every\n\t\t\t// `changeDefer` ms\n\t\t\tif (!this.changeTimeout) {\n\t\t\t\tvar that = this;\n\t\t\t\tthis.changeTimeout = setTimeout(function() {\n\t\t\t\t\tthat.update();\n\t\t\t\t\tthat.changeTimeout = null;\n\t\t\t\t}, this.changeDefer);\n\t\t\t}\n\t\t},\n\n\t\tisListening: false,\n\t\thashChangeInterval: null,\n\t\tstartListening: function() {\n\t\t\tthis.map.on(\"moveend\", this.onMapMove, this);\n\n\t\t\tif (HAS_HASHCHANGE) {\n\t\t\t\tL.DomEvent.addListener(window, \"hashchange\", this.onHashChange);\n\t\t\t} else {\n\t\t\t\tclearInterval(this.hashChangeInterval);\n\t\t\t\tthis.hashChangeInterval = setInterval(this.onHashChange, 50);\n\t\t\t}\n\t\t\tthis.isListening = true;\n\t\t},\n\n\t\tstopListening: function() {\n\t\t\tthis.map.off(\"moveend\", this.onMapMove, this);\n\n\t\t\tif (HAS_HASHCHANGE) {\n\t\t\t\tL.DomEvent.removeListener(window, \"hashchange\", this.onHashChange);\n\t\t\t} else {\n\t\t\t\tclearInterval(this.hashChangeInterval);\n\t\t\t}\n\t\t\tthis.isListening = false;\n\t\t}\n\t};\n\tL.hash = function(map) {\n\t\treturn new L.Hash(map);\n\t};\n\tL.Map.prototype.addHash = function() {\n\t\tthis._hash = L.hash(this);\n\t};\n\tL.Map.prototype.removeHash = function() {\n\t\tthis._hash.removeFrom();\n\t};\n})(window);\n"],
  "mappings": "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",
  "names": ["window"]
}
